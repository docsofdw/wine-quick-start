---
import BaseLayout from '../layouts/BaseLayout.astro';

const schema = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": "Contact Wine Quick Start",
  "description": "Get in touch with the Wine Quick Start team",
  "url": "https://winequickstart.com/contact/"
};
---

<BaseLayout 
  title="Contact Us - Wine Quick Start"
  description="Get in touch with Wine Quick Start. We'd love to hear your questions, feedback, and suggestions."
  schema={schema}
>
  <!-- Hero Section -->
  <section class="bg-gradient-to-br from-wine-700 to-wine-900 text-white section-padding-sm">
    <div class="container text-center">
      <h1 class="text-5xl font-bold mb-4 leading-tight">Contact Us</h1>
      <p class="text-xl opacity-90 max-w-2xl mx-auto">
        We'd love to hear from you
      </p>
    </div>
  </section>

  <!-- Contact Form Section -->
  <section class="section-padding">
    <div class="container max-w-2xl">
      <div class="wine-card">
        <form id="contact-form" class="space-y-6">
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Your Name *</label>
            <input
              type="text"
              id="name"
              name="name"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition"
              placeholder="John Doe"
            />
          </div>

          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition"
              placeholder="john@example.com"
            />
          </div>

          <div>
            <label for="subject" class="block text-sm font-medium text-gray-700 mb-2">Subject *</label>
            <select 
              id="subject" 
              name="subject" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition"
            >
              <option value="">Select a subject</option>
              <option value="general">General Inquiry</option>
              <option value="feedback">Feedback</option>
              <option value="content">Content Suggestion</option>
              <option value="partnership">Partnership Opportunity</option>
              <option value="technical">Technical Issue</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div>
            <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message *</label>
            <textarea 
              id="message" 
              name="message" 
              required
              rows="6"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition resize-vertical"
              placeholder="Tell us how we can help..."
            ></textarea>
          </div>

          <div class="flex items-start">
            <input 
              type="checkbox" 
              id="newsletter" 
              name="newsletter"
              class="mt-1 h-4 w-4 text-wine-600 focus:ring-wine-500 border-gray-300 rounded"
            />
            <label for="newsletter" class="ml-2 text-sm text-gray-600">
              Yes, I'd like to receive wine tips and pairing recommendations via email
            </label>
          </div>

          <button 
            type="submit" 
            class="btn-primary w-full"
          >
            Send Message
          </button>
        </form>

        <div id="form-success" class="hidden mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
          <p class="text-green-800 font-medium">âœ“ Message sent successfully!</p>
          <p class="text-green-700 text-sm mt-1">We'll get back to you within 24-48 hours.</p>
        </div>

        <div id="form-error" class="hidden mt-6 p-4 bg-red-50 border border-red-200 rounded-lg">
          <p class="text-red-800 font-medium">âœ— Something went wrong</p>
          <p class="text-red-700 text-sm mt-1">Please try again or email us directly.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Info Section -->
  <section class="section-padding bg-gray-50">
    <div class="container max-w-4xl">
      <h2 class="text-3xl font-bold mb-8 text-center text-gray-900">Other Ways to Reach Us</h2>
      
      <div class="grid md:grid-cols-3 gap-8">
        <div class="wine-card text-center">
          <div class="text-3xl mb-4">ðŸ“§</div>
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Email</h3>
          <p class="text-gray-600 text-sm mb-2">For general inquiries:</p>
          <a href="mailto:hello@winequickstart.com" class="text-wine-600 hover:text-wine-700">
            hello@winequickstart.com
          </a>
        </div>
        
        <div class="wine-card text-center">
          <div class="text-3xl mb-4">ðŸ’¼</div>
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Partnerships</h3>
          <p class="text-gray-600 text-sm mb-2">Business collaborations:</p>
          <a href="mailto:partnerships@winequickstart.com" class="text-wine-600 hover:text-wine-700">
            partnerships@winequickstart.com
          </a>
        </div>
        
        <div class="wine-card text-center">
          <div class="text-3xl mb-4">ðŸ”’</div>
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Privacy</h3>
          <p class="text-gray-600 text-sm mb-2">Data and privacy concerns:</p>
          <a href="mailto:privacy@winequickstart.com" class="text-wine-600 hover:text-wine-700">
            privacy@winequickstart.com
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section-padding">
    <div class="container max-w-4xl">
      <h2 class="text-3xl font-bold mb-8 text-gray-900">Frequently Asked Questions</h2>
      
      <div class="space-y-6">
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">How quickly will I hear back?</h3>
          <p class="text-gray-600">We aim to respond to all inquiries within 24-48 hours during business days.</p>
        </div>
        
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Can I suggest content topics?</h3>
          <p class="text-gray-600">Absolutely! We love hearing what our readers want to learn about. Use the form above with "Content Suggestion" as the subject.</p>
        </div>
        
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Do you offer personalized wine consultations?</h3>
          <p class="text-gray-600">Currently, we focus on general wine education through our articles. For personalized advice, we recommend consulting a local sommelier or wine shop.</p>
        </div>
        
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">How can I contribute content?</h3>
          <p class="text-gray-600">We occasionally accept guest contributions from wine professionals. Please email us with your credentials and proposed topics.</p>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  // Contact form handling
  const form = document.getElementById('contact-form');
  const successMsg = document.getElementById('form-success');
  const errorMsg = document.getElementById('form-error');

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Hide previous messages
    successMsg?.classList.add('hidden');
    errorMsg?.classList.add('hidden');
    
    const formData = new FormData(form as HTMLFormElement);
    const data = Object.fromEntries(formData.entries());
    
    try {
      // TODO: Replace with actual form submission endpoint
      // For now, just simulate success
      console.log('Form submission:', data);
      
      // Simulate API call
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      // Show success message
      successMsg?.classList.remove('hidden');
      (form as HTMLFormElement).reset();
      
      // Scroll to success message
      successMsg?.scrollIntoView({ behavior: 'smooth', block: 'center' });
    } catch (error) {
      // Show error message
      errorMsg?.classList.remove('hidden');
      console.error('Form submission error:', error);
    }
  });
</script>

