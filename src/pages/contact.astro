---
import BaseLayout from '../layouts/BaseLayout.astro';

const schema = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "name": "Contact Wine Quick Start",
  "description": "Get in touch with the Wine Quick Start team",
  "url": "https://winesquickstart.com/contact/"
};
---

<BaseLayout 
  title="Contact Us - Wine Quick Start"
  description="Get in touch with Wine Quick Start. We'd love to hear your questions, feedback, and suggestions."
  schema={schema}
>
  <!-- Hero Section -->
  <section class="bg-gradient-to-br from-wine-700 to-wine-900 text-white section-padding-sm">
    <div class="container text-center">
      <h1 class="text-5xl font-bold mb-4 leading-tight">Contact Us</h1>
      <p class="text-xl opacity-90 max-w-2xl mx-auto">
        We'd love to hear from you
      </p>
    </div>
  </section>

  <!-- Contact Form Section -->
  <section class="section-padding">
    <div class="container max-w-2xl">
      <div class="wine-card">
        <form id="contact-form" class="space-y-6">
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700 mb-2">Your Name *</label>
            <input
              type="text"
              id="name"
              name="name"
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition"
              placeholder="John Doe"
            />
          </div>

          <div>
            <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
            <input 
              type="email" 
              id="email" 
              name="email" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition"
              placeholder="john@example.com"
            />
          </div>

          <div>
            <label for="subject" class="block text-sm font-medium text-gray-700 mb-2">Subject *</label>
            <select 
              id="subject" 
              name="subject" 
              required
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition"
            >
              <option value="">Select a subject</option>
              <option value="general">General Inquiry</option>
              <option value="feedback">Feedback</option>
              <option value="content">Content Suggestion</option>
              <option value="consultation">Wine Consultation (Cellars of DW)</option>
              <option value="partnership">Partnership Opportunity</option>
              <option value="technical">Technical Issue</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div>
            <label for="message" class="block text-sm font-medium text-gray-700 mb-2">Message *</label>
            <textarea 
              id="message" 
              name="message" 
              required
              rows="6"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-wine-500 focus:border-wine-500 transition resize-vertical"
              placeholder="Tell us how we can help..."
            ></textarea>
          </div>

          <div class="flex items-start">
            <input 
              type="checkbox" 
              id="newsletter" 
              name="newsletter"
              class="mt-1 h-4 w-4 text-wine-600 focus:ring-wine-500 border-gray-300 rounded"
            />
            <label for="newsletter" class="ml-2 text-sm text-gray-600">
              Yes, I'd like to receive wine tips and pairing recommendations via email
            </label>
          </div>

          <button 
            type="submit" 
            class="btn-primary w-full"
          >
            Send Message
          </button>
        </form>

        <div id="form-success" class="hidden mt-6 p-4 bg-green-50 border border-green-200 rounded-lg">
          <p class="text-green-800 font-medium">‚úì Message sent successfully!</p>
          <p class="text-green-700 text-sm mt-1">We'll get back to you within 24-48 hours.</p>
        </div>

        <div id="form-error" class="hidden mt-6 p-4 bg-red-50 border border-red-200 rounded-lg">
          <p class="text-red-800 font-medium">‚úó Something went wrong</p>
          <p class="text-red-700 text-sm mt-1">Please try again or email us directly.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact Info Section -->
  <section class="section-padding bg-gray-50">
    <div class="container max-w-4xl">
      <h2 class="text-3xl font-bold mb-8 text-center text-gray-900">Other Ways to Reach Us</h2>
      
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="wine-card text-center">
          <div class="text-3xl mb-4">üìß</div>
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Email</h3>
          <p class="text-gray-600 text-sm mb-2">For general inquiries:</p>
          <a href="mailto:hello@winesquickstart.com" class="text-wine-600 hover:text-wine-700">
            hello@winesquickstart.com
          </a>
        </div>

        <div class="wine-card text-center">
          <div class="text-3xl mb-4">üíº</div>
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Partnerships</h3>
          <p class="text-gray-600 text-sm mb-2">Business collaborations:</p>
          <a href="mailto:partnerships@winesquickstart.com" class="text-wine-600 hover:text-wine-700">
            partnerships@winesquickstart.com
          </a>
        </div>

        <div class="wine-card text-center">
          <div class="text-3xl mb-4">üîí</div>
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Privacy</h3>
          <p class="text-gray-600 text-sm mb-2">Data and privacy concerns:</p>
          <a href="mailto:privacy@winesquickstart.com" class="text-wine-600 hover:text-wine-700">
            privacy@winesquickstart.com
          </a>
        </div>

        <div class="wine-card text-center border-wine-300 bg-wine-50/50 sm:col-span-2">
          <div class="text-3xl mb-4">üç∑</div>
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Wine Consulting Services</h3>
          <p class="text-gray-600 text-sm mb-3">Cellar building, private tastings, corporate events, and personalized wine guidance.</p>
          <div class="flex flex-col sm:flex-row gap-3 items-center justify-center">
            <a href="https://cellarsofdw.com" target="_blank" rel="noopener" class="inline-flex items-center gap-2 text-wine-600 hover:text-wine-700 font-medium">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9" />
              </svg>
              cellarsofdw.com
            </a>
            <span class="hidden sm:inline text-gray-300">|</span>
            <a href="mailto:dw@cellarsofdw.com" class="inline-flex items-center gap-2 text-wine-600 hover:text-wine-700 font-medium">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
              dw@cellarsofdw.com
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section -->
  <section class="section-padding">
    <div class="container max-w-4xl">
      <h2 class="text-3xl font-bold mb-8 text-gray-900">Frequently Asked Questions</h2>
      
      <div class="space-y-6">
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">How quickly will I hear back?</h3>
          <p class="text-gray-600">We aim to respond to all inquiries within 24-48 hours during business days.</p>
        </div>
        
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Can I suggest content topics?</h3>
          <p class="text-gray-600">Absolutely! We love hearing what our readers want to learn about. Use the form above with "Content Suggestion" as the subject.</p>
        </div>
        
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">Do you offer personalized wine consultations?</h3>
          <p class="text-gray-600">Yes! Wine Quick Start is created by <strong>Cellars of DW</strong>, a boutique wine consultancy. For personalized cellar building, private tastings, event wine selection, or one-on-one guidance, reach out to <a href="mailto:dw@cellarsofdw.com" class="text-wine-600 hover:text-wine-700 font-medium">dw@cellarsofdw.com</a>.</p>
        </div>
        
        <div class="wine-card">
          <h3 class="text-lg font-semibold mb-2 text-gray-900">How can I contribute content?</h3>
          <p class="text-gray-600">We occasionally accept guest contributions from wine professionals. Please email us with your credentials and proposed topics.</p>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script>
  // Contact form handling
  const form = document.getElementById('contact-form');
  const successMsg = document.getElementById('form-success');
  const errorMsg = document.getElementById('form-error');

  form?.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Hide previous messages
    successMsg?.classList.add('hidden');
    errorMsg?.classList.add('hidden');
    
    const formData = new FormData(form as HTMLFormElement);
    const data = Object.fromEntries(formData.entries());
    
    try {
      // TODO: Replace with actual form submission endpoint
      // For now, just simulate success
      console.log('Form submission:', data);
      
      // Simulate API call
      await new Promise(resolve => setTimeout(resolve, 1000));
      
      // Show success message
      successMsg?.classList.remove('hidden');
      (form as HTMLFormElement).reset();
      
      // Scroll to success message
      successMsg?.scrollIntoView({ behavior: 'smooth', block: 'center' });
    } catch (error) {
      // Show error message
      errorMsg?.classList.remove('hidden');
      console.error('Form submission error:', error);
    }
  });
</script>

